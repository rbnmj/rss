<!DOCTYPE html>
<html lang="en">
<head>
  <title>{{siteTitle}}</title>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="robots" content="noindex, nofollow" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="icon" href="https://rbnmj.github.io/rss/favicon.ico"/>
  <link rel="alternate" type="application/rss+xml" title="{{siteTitle}}" href="{{feedHref}}" />
  <link href="index.css" rel="stylesheet" />
</head>

<body style="background-color:#dce6dc; font-family: 'Computer Modern', sans-serif;">
  <header>
    <dl>
      <a href="https://rbnmj.github.io">back</a>
      <dt><b>Built on</b></dt><dd>{{siteBuildTimestamp}}</dd>
    </dl>
  </header>

  <!-- Filter Dropdown Section -->
  <section id="filter-section" style="margin-bottom: 20px;">
    <label for="journal-filter">Filter by Tag:</label>
    <select id="journal-filter" onchange="filterArticles()" style="padding: 5px;">
      <option value="all">All</option>
      {{#each tags}}
        <option value="{{this}}">{{this}}</option>
      {{/each}}
    </select>
  </section>

  <!-- Articles List -->
  <ul id="articles-list">
    {{#each dates}}
    <li>
      <section>
        <h3>{{isoPublishDate}}</h3>

        {{#each articles}}
        <article class="article-item" data-tags="{{source.tags}}">
          <strong><a href={{link}}>{{title}}</a></strong>
          <div>
            <span><a href={{source.siteUrl}}>{{source.title}}</a></span> | 
            <span><time>{{publishedOn}}</time></span> |
          </div>
          <p>{{description}}</p>
          <hr>
        </article>
        {{/each}}

      </section>
    </li>
    {{/each}}
  </ul>

  <!-- JavaScript for Filtering -->
  <script>
    function filterArticles() {
      const selectedTag = document.getElementById('journal-filter').value;
      const articles = document.querySelectorAll('.article-item');

      articles.forEach(article => {
        const articleTags = article.getAttribute('data-tags');
        if (selectedTag === 'all' || articleTags.includes(selectedTag)) {
          article.style.display = 'block';
        } else {
          article.style.display = 'none';
        }
      });
    }
  </script>
</body>
</html>
